{"id":"js/app.js","dependencies":[{"name":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\package.json","includedInParent":true,"mtime":1741188834651},{"name":"./components/map-config.js","loc":{"line":5,"column":59,"index":145},"parent":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\js\\app.js","resolved":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\js\\components\\map-config.js"},{"name":"./components/data-table.js","loc":{"line":6,"column":53,"index":228},"parent":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\js\\app.js","resolved":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\js\\components\\data-table.js"},{"name":"./components/filters.js","loc":{"line":7,"column":77,"index":335},"parent":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\js\\app.js","resolved":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\js\\components\\filters.js"},{"name":"./components/markers.js","loc":{"line":8,"column":53,"index":415},"parent":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\js\\app.js","resolved":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\js\\components\\markers.js"},{"name":"./components/ui.js","loc":{"line":9,"column":29,"index":471},"parent":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\js\\app.js","resolved":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\js\\components\\ui.js"},{"name":"./components/data-loader.js","loc":{"line":10,"column":38,"index":531},"parent":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\js\\app.js","resolved":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\js\\components\\data-loader.js"},{"name":"./utils/formatters.js","loc":{"line":11,"column":43,"index":605},"parent":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\js\\app.js","resolved":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\js\\utils\\formatters.js"}],"generated":{"js":"\"use strict\";\n\nvar _mapConfig = require(\"./components/map-config.js\");\nvar _dataTable = require(\"./components/data-table.js\");\nvar _filters = require(\"./components/filters.js\");\nvar _markers = require(\"./components/markers.js\");\nvar _ui = require(\"./components/ui.js\");\nvar _dataLoader = require(\"./components/data-loader.js\");\nvar _formatters = require(\"./utils/formatters.js\");\n/**\n * Main application entry point\n * Initializes and coordinates all components\n */\n\n// Application state\nvar appState = {\n  allData: [],\n  filteredData: [],\n  markerMap: new Map(),\n  minDate: null,\n  maxDate: null,\n  mapConfig: null,\n  dataTable: null,\n  updateVisibleData: null\n};\n\n// Make state available globally for components that need it\nwindow.appState = appState;\ndocument.addEventListener('DOMContentLoaded', function () {\n  console.time('Total Initialization');\n  console.log(\"Initialization started\");\n\n  // Extend DataTable functionality\n  (0, _formatters.extendDataTableDateSorting)(jQuery);\n\n  // Initialize UI components\n  (0, _ui.initializeUI)();\n\n  // Initialize map\n  appState.mapConfig = (0, _mapConfig.initializeMap)();\n  (0, _mapConfig.setupTileLayerErrorHandling)(appState.mapConfig);\n\n  // Initialize data table\n  appState.dataTable = (0, _dataTable.initializeDataTable)();\n\n  // Load data\n  (0, _dataLoader.loadData)(function (data) {\n    // Process data\n    var processedData = (0, _dataLoader.processData)(data);\n\n    // Update app state\n    appState.allData = processedData.allData;\n    appState.uniqueCountries = processedData.uniqueCountries;\n    appState.uniqueCorruptionCategories = processedData.uniqueCorruptionCategories;\n    appState.uniqueHealthCategories = processedData.uniqueHealthCategories;\n    appState.minDate = processedData.minDate;\n    appState.maxDate = processedData.maxDate;\n\n    // Initialize filters\n    (0, _filters.initializeFilters)(appState, updateFilters);\n\n    // Setup map move events\n    appState.updateVisibleData = (0, _markers.setupMapMoveEvents)(appState.mapConfig, appState.filteredData, appState.dataTable);\n\n    // Initial filter application\n    updateFilters();\n  });\n  console.timeEnd('Total Initialization');\n});\n\n/**\n * Update filters and refresh the map and data table\n */\nfunction updateFilters() {\n  // Apply filters to get filtered data\n  appState.filteredData = (0, _filters.applyFilters)(appState.allData);\n\n  // Update map markers\n  (0, _markers.updateMapMarkers)(appState.mapConfig, appState.filteredData, appState, appState.updateVisibleData);\n\n  // Update reset button visibility\n  (0, _filters.updateResetButtonVisibility)();\n}"},"sourceMaps":null,"error":null,"hash":"d3bc69c1b56e6fecf436fbed43f6aa40","cacheData":{"env":{}}}