{"id":"XtQe","dependencies":[{"name":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\package.json","includedInParent":true,"mtime":1742042086953}],"generated":{"js":"\"use strict\";function t(e){return(t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(e)}function e(t){return a(t)||o(t)||n(t)||r()}function r(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function n(t,e){if(t){if(\"string\"==typeof t)return i(t,e);var r={}.toString.call(t).slice(8,-1);return\"Object\"===r&&t.constructor&&(r=t.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(t):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}function o(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}function a(t){if(Array.isArray(t))return i(t)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach(function(e){s(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function s(t,e,r){return(e=l(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(e){var r=f(e,\"string\");return\"symbol\"==t(r)?r:r+\"\"}function f(e,r){if(\"object\"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,r||\"default\");if(\"object\"!=t(o))return o;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===r?String:Number)(e)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0,exports.filterData=v,exports.formatNumber=b,exports.getDateRange=S,exports.getFilteredData=C,exports.getVisibleData=h,exports.loadData=d,exports.processData=D;var p,m,y=[],g=[];function b(t){return new Intl.NumberFormat(void 0,{maximumFractionDigits:0}).format(t)}function d(t){return console.time(\"Data Fetching\"),fetch(t).then(function(t){return t.json()}).then(function(t){return console.timeEnd(\"Data Fetching\"),t}).catch(function(t){throw console.error(\"Error loading data:\",t),t})}function D(t,r){console.time(\"Data Processing\"),y=t.map(function(t){return c(c({},t),{},{parsedDate:r(t.Date)})});var n=e(new Set(y.map(function(t){return t.country}))).filter(function(t){return t}).sort(function(t,e){return t.localeCompare(e)}),o=e(new Set(y.flatMap(function(t){return Array.isArray(t[\"Corruption Categories\"])?t[\"Corruption Categories\"]:[]}))).filter(function(t){return t}).sort(function(t,e){return t.localeCompare(e)}),a=e(new Set(y.flatMap(function(t){return Array.isArray(t[\"Sector Categories\"])?t[\"Sector Categories\"]:[]}))).filter(function(t){return t}).sort(function(t,e){return t.localeCompare(e)});return p=d3.min(y,function(t){return t.parsedDate}),m=d3.max(y,function(t){return t.parsedDate}),console.timeEnd(\"Data Processing\"),{allData:y,uniqueCountries:n,uniqueCorruptionCategories:o,uniqueHealthCategories:a,minDate:p,maxDate:m}}function v(t){console.time(\"Filtering Data\");var e=t.selectedCountries,r=t.selectedCorruptionCategories,n=t.selectedHealthCategories,o=t.startDate,a=t.endDate,i=t.searchTerm,u=t.showArchived,c=t.showCase,s=t.unreliableCase,l=t.showCountryLevel;return g=y.filter(function(t){var f=0===e.size||e.has(t.country),p=0===r.size||Array.isArray(t[\"Corruption Categories\"])&&t[\"Corruption Categories\"].some(function(t){return r.has(t)}),m=0===n.size||Array.isArray(t[\"Sector Categories\"])&&t[\"Sector Categories\"].some(function(t){return n.has(t)}),y=!0;o&&a&&t.parsedDate&&(y=t.parsedDate>=o&&t.parsedDate<=a);var g=!0;if(i){var b=t.Title.toLowerCase();g=i.startsWith('\"')&&i.endsWith('\"')?b.includes(i.slice(1,-1)):i.split(\" \").every(function(t){return b.includes(t)})}var d=!u||!t.Archived,D=!c||t.c_n,v=!s||!t.f_n,h=!l||!t.country_level;return f&&p&&m&&y&&g&&d&&v&&D&&h}),console.timeEnd(\"Filtering Data\"),g}function h(t){return t&&\"function\"==typeof t.contains?g.filter(function(e){return!(!e.lat||!e.long)&&t.contains(L.latLng(e.lat,e.long))}):g}function C(){return g}function S(){return{minDate:p,maxDate:m}}var w=exports.default={formatNumber:b,loadData:d,processData:D,filterData:v,getVisibleData:h,getFilteredData:C,getDateRange:S};"},"sourceMaps":null,"error":null,"hash":"88eb34ede9bb14fdf2c89a071111f464","cacheData":{"env":{}}}