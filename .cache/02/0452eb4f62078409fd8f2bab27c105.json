{"id":"A2T1","dependencies":[{"name":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\package.json","includedInParent":true,"mtime":1742042086953},{"name":"./modules/map","loc":{"line":1,"column":27,"index":27},"parent":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\app.js","resolved":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\modules\\map.js"},{"name":"./modules/data","loc":{"line":2,"column":28,"index":73},"parent":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\app.js","resolved":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\modules\\data.js"},{"name":"./modules/ui","loc":{"line":3,"column":26,"index":118},"parent":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\app.js","resolved":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\modules\\ui.js"},{"name":"./modules/table","loc":{"line":4,"column":29,"index":164},"parent":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\app.js","resolved":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\modules\\table.js"},{"name":"./modules/dashboard","loc":{"line":5,"column":33,"index":217},"parent":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\app.js","resolved":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\modules\\dashboard.js"}],"generated":{"js":"\"use strict\";var e=l(require(\"./modules/map\")),t=l(require(\"./modules/data\")),i=l(require(\"./modules/ui\")),a=l(require(\"./modules/table\")),n=l(require(\"./modules/dashboard\"));function r(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(r=function(e){return e?i:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var i=r(t);if(i&&i.has(e))return i.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(\"default\"!==l&&{}.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,i&&i.set(e,a),a}var o=new Map;function c(e,a){var n=a.archivedFilter,r=a.caseFilter,l=a.unreliableFilter,o=a.countryLevelFilter,c=d3.timeParse(\"%d/%m/%y\"),d=t.processData(e,c);$(\".total-count\").text(t.formatNumber(d.allData.length)),u(d,{archivedFilter:n,caseFilter:r,unreliableFilter:l,countryLevelFilter:o}),i.initializeHelpButton(),i.initializeShareButtons(),i.initializeExportButton(function(){return t.getFilteredData()}),s()}function u(t,a){var n=a.archivedFilter,r=a.caseFilter,l=a.unreliableFilter,o=a.countryLevelFilter,c=t.uniqueCountries,u=t.uniqueCorruptionCategories,m=t.uniqueHealthCategories,F=t.minDate,p=t.maxDate;i.initializeSelect2Filter(\"#countryFilter\",c,\"Select multiple\",d),i.initializeSelect2Filter(\"#corruptionCategoriesFilter\",u,\"Select multiple\",d),i.initializeSelect2Filter(\"#healthCategoriesFilter\",m,\"Select multiple\",d),i.initializeDatePickers(d,{minDate:F,maxDate:p}),i.initializeSearchInput(d),i.initializeFilterCheckboxes({archivedFilter:function(){s(),h()},unreliableFilter:function(){s(),h()},caseFilter:function(){s(),h()},countryLevelFilter:function(){e.toggleLegend(!o.checked),s(),h()}}),i.initializeResetButton(function(){g()&&($(\"#countryFilter, #corruptionCategoriesFilter, #healthCategoriesFilter\").val(null).trigger(\"change\"),$(\"#startDate\").datepicker(\"setDate\",F),$(\"#endDate\").datepicker(\"setDate\",p),$(\"#search-input\").val(\"\"),n.checked=!1,r.checked=!0,l.checked=!0,o.checked=!0,s(),h(),e.toggleLegend(!1))})}function d(){s(),h()}function s(){var e={selectedCountries:new Set($(\"#countryFilter\").val()||[]),selectedCorruptionCategories:new Set($(\"#corruptionCategoriesFilter\").val()||[]),selectedHealthCategories:new Set($(\"#healthCategoriesFilter\").val()||[]),startDate:$(\"#startDate\").datepicker(\"getDate\"),endDate:$(\"#endDate\").datepicker(\"getDate\"),searchTerm:$(\"#search-input\").val().toLowerCase().trim(),showArchived:document.getElementById(\"archivedFilter\").checked,showCase:document.getElementById(\"caseFilter\").checked,unreliableCase:document.getElementById(\"unreliableFilter\").checked,showCountryLevel:document.getElementById(\"countryLevelFilter\").checked};t.filterData(e);m()}function g(){var e=t.getDateRange(),i=$(\"#countryFilter\").val()||[],a=$(\"#corruptionCategoriesFilter\").val()||[],n=$(\"#healthCategoriesFilter\").val()||[],r=$(\"#startDate\").datepicker(\"getDate\"),l=$(\"#endDate\").datepicker(\"getDate\"),o=$(\"#search-input\").val().trim(),c=document.getElementById(\"archivedFilter\").checked,u=!document.getElementById(\"unreliableFilter\").checked,d=!document.getElementById(\"caseFilter\").checked,s=!document.getElementById(\"countryLevelFilter\").checked,g=r&&e.minDate&&r.getTime()!==e.minDate.getTime()||l&&e.maxDate&&l.getTime()!==e.maxDate.getTime();return i.length>0||a.length>0||n.length>0||g||\"\"!==o||c||u||d||s}function h(){i.updateResetButtonVisibility(g())}function m(){console.time(\"Updating Map, Table, and Dashboard\"),e.clearMarkers(),o.clear();var i=t.getFilteredData(),a=t.getDateRange();if(n.updateDashboard(i,a),i.length>0){var r=1e3,l=0;!function t(){for(var a=Math.min(l+r,i.length),n=[],c=l;c<a;c++){var u=i[c],d=\"\".concat(u.lat,\"-\").concat(u.long,\"-\").concat(u.Title);if(!o.has(d)){var s=e.createMarker(u);n.push(s),o.set(d,s)}}e.addMarkers(n),(l=a)<i.length?setTimeout(t,0):(e.fitMapToBounds(),F())}()}else F();console.timeEnd(\"Updating Map, Table, and Dashboard\")}document.addEventListener(\"DOMContentLoaded\",function(){console.time(\"Total Initialization\"),console.log(\"Initialization started\"),i.initializeWelcomeOverlay(),i.initializeViewToggle(),i.initializeFilterBox(),i.initializeInfoIcons(),e.initializeMap(),a.initializeDataTable();var r=document.getElementById(\"dashboard\");n.initializeDashboard(r);var l=document.getElementById(\"archivedFilter\"),o=document.getElementById(\"caseFilter\"),u=document.getElementById(\"unreliableFilter\"),d=document.getElementById(\"countryLevelFilter\");console.time(\"Data Fetching\"),t.loadData(\"./data/loc3.json\").then(function(e){console.timeEnd(\"Data Fetching\"),c(e,{archivedFilter:l,caseFilter:o,unreliableFilter:u,countryLevelFilter:d})}).catch(function(e){return console.error(\"Error loading data:\",e)}),console.timeEnd(\"Total Initialization\")});var F=i.debounce(function(){if(console.time(\"Updating Visible Data\"),!e.isMapMoving()){var i=e.getMapBounds(),n=t.getVisibleData(i);a.updateDataTable(n),$(\".filter-count\").text(t.formatNumber(n.length)),console.timeEnd(\"Updating Visible Data\")}},1e3);e.onMoveEnd=F,window.handleDashboardResize=function(){n.handleDashboardResize()};"},"sourceMaps":null,"error":null,"hash":"ea53f8b40692bd64cbfca5dcf06fe60a","cacheData":{"env":{}}}