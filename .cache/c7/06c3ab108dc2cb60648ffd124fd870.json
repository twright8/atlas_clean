{"id":"s9OP","dependencies":[{"name":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\package.json","includedInParent":true,"mtime":1742042086953},{"name":"./dashboardLayout","loc":{"line":5,"column":33,"index":157},"parent":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\modules\\dashboard.js","resolved":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\modules\\dashboardLayout.js"},{"name":"./dashboardCharts","loc":{"line":6,"column":33,"index":211},"parent":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\modules\\dashboard.js","resolved":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\modules\\dashboardCharts.js"},{"name":"./dashboardStats","loc":{"line":7,"column":32,"index":264},"parent":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\modules\\dashboard.js","resolved":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\modules\\dashboardStats.js"},{"name":"./interconnectionChart","loc":{"line":8,"column":38,"index":322},"parent":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\modules\\dashboard.js","resolved":"C:\\Users\\Tom\\PycharmProjects\\health_atlas\\atlas_clean\\src\\modules\\interconnectionChart.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0,exports.handleDashboardResize=j,exports.initializeDashboard=C,exports.updateDashboard=D;var e=i(require(\"./dashboardLayout\")),n=i(require(\"./dashboardCharts\")),t=i(require(\"./dashboardStats\")),a=i(require(\"./interconnectionChart\"));function r(e){if(\"function\"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(r=function(e){return e?t:n})(e)}function i(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=r(n);if(t&&t.has(e))return t.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&{}.hasOwnProperty.call(e,o)){var c=i?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(a,o,c):a[o]=e[o]}return a.default=e,t&&t.set(e,a),a}function o(e){return d(e)||u(e)||s(e)||c()}function c(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function s(e,n){if(e){if(\"string\"==typeof e)return l(e,n);var t={}.toString.call(e).slice(8,-1);return\"Object\"===t&&e.constructor&&(t=e.constructor.name),\"Map\"===t||\"Set\"===t?Array.from(e):\"Arguments\"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}function u(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}function d(e){if(Array.isArray(e))return l(e)}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}var p,f,v,y,m,h=[],g=[],b={timeSeries:{yearly:!1},category:{showHealthCategories:!1},country:{mapView:!1},interconnection:{alternate:!1}};function C(t){console.time(\"Dashboard Initialization\"),e.createDashboardLayout(t),p=n.initializeTimeSeriesChart(),f=n.initializeCategoryChart(),v=n.initializeTopCountriesChart(),y=a.initializeInterconnectionChart(),w(),console.timeEnd(\"Dashboard Initialization\")}function w(){document.addEventListener(\"timeViewToggle\",function(e){b.timeSeries.yearly=e.detail.yearly,h.length>0&&n.updateTimeSeriesChart(p,h,m,b.timeSeries)}),document.addEventListener(\"categoryViewToggle\",function(e){b.category.showHealthCategories=e.detail.showHealthCategories,h.length>0&&n.updateCategoryChart(f,h,b.category)}),document.addEventListener(\"countryViewToggle\",function(e){b.country.mapView=e.detail.mapView,h.length>0&&n.updateTopCountriesChart(v,h,b.country)}),document.addEventListener(\"interconnectionViewToggle\",function(e){b.interconnection.alternate=e.detail.alternate,h.length>0&&a.updateInterconnectionChart(y,h,b.interconnection)}),document.addEventListener(\"refreshRecentArticles\",function(){h.length>0&&I(h)})}function D(e,r){console.time(\"Dashboard Update\"),g=o(h),h=e,m=r,n.updateTimeSeriesChart(p,e,m,b.timeSeries),n.updateCategoryChart(f,e,b.category),n.updateTopCountriesChart(v,e,b.country),a.updateInterconnectionChart(y,e,b.interconnection),t.updateSummaryStats(e,m),T(e),I(e),console.timeEnd(\"Dashboard Update\")}function T(e){var n=document.getElementById(\"key-metrics\");if(n){n.innerHTML=\"\";var t=S(e),a=k(e),r=A(e),i='\\n        <div class=\"key-metric\">\\n            <span class=\"key-metric-value\">'.concat(t,'</span>\\n            <span class=\"key-metric-label\">Latest Article</span>\\n        </div>\\n        <div class=\"key-metric\">\\n            <span class=\"key-metric-value\">').concat(a.name,'</span>\\n            <span class=\"key-metric-label\">Most Mentioned Country</span>\\n        </div>\\n        <div class=\"key-metric\">\\n            <span class=\"key-metric-value\">').concat(r.name,'</span>\\n            <span class=\"key-metric-label\">Top Integrity Issue</span>\\n        </div>\\n    ');n.innerHTML=i}}function S(e){if(0===e.length)return\"N/A\";var n=o(e).sort(function(e,n){return e.parsedDate&&n.parsedDate?n.parsedDate-e.parsedDate:0});if(!n[0].parsedDate)return\"N/A\";return n[0].parsedDate.toLocaleDateString(void 0,{year:\"numeric\",month:\"short\",day:\"numeric\"})}function k(e){if(0===e.length)return{name:\"N/A\",count:0};var n={};if(e.forEach(function(e){e.country&&e.country.trim()&&(n[e.country]=(n[e.country]||0)+1)}),0===Object.keys(n).length)return{name:\"N/A\",count:0};var t=Object.entries(n).sort(function(e,n){return n[1]-e[1]});return{name:t[0][0],count:t[0][1]}}function A(e){if(0===e.length)return{name:\"N/A\",count:0};var n={};if(e.forEach(function(e){Array.isArray(e[\"Corruption Categories\"])&&e[\"Corruption Categories\"].forEach(function(e){e&&e.trim()&&(n[e]=(n[e]||0)+1)})}),0===Object.keys(n).length)return{name:\"N/A\",count:0};var t=Object.entries(n).sort(function(e,n){return n[1]-e[1]});return{name:t[0][0],count:t[0][1]}}function L(e,n){var t=document.getElementById(\"trend-indicators\");if(t)if(t.innerHTML=\"\",0!==n.length){var a=M(e.length,n.length),r=M(new Set(e.map(function(e){return e.country}).filter(Boolean)).size,new Set(n.map(function(e){return e.country}).filter(Boolean)).size),i=A(e),o=A(n),c=\"New\",s=\"trend-neutral\";if(i.name===o.name){var u=M(i.count,o.count);c=\"\".concat(u.value,\"%\"),s=u.direction}var d='\\n        <div class=\"trend-indicator\">\\n            <div class=\"trend-title\">\\n                <i class=\"fa fa-newspaper-o\"></i>\\n                <span>Articles</span>\\n            </div>\\n            <div class=\"trend-value '.concat(a.direction,'\">\\n                <i class=\"fa fa-').concat(E(a.direction),'\"></i>\\n                <span>').concat(a.value,'%</span>\\n            </div>\\n        </div>\\n        <div class=\"trend-indicator\">\\n            <div class=\"trend-title\">\\n                <span>Countries</span>\\n            </div>\\n            <div class=\"trend-value ').concat(r.direction,'\">\\n                <i class=\"fa fa-').concat(E(r.direction),'\"></i>\\n                <span>').concat(r.value,'%</span>\\n            </div>\\n        </div>\\n        <div class=\"trend-indicator\">\\n            <div class=\"trend-title\">\\n                <i class=\"fa fa-tag\"></i>\\n                <span>Top Category</span>\\n            </div>\\n            <div class=\"trend-value ').concat(s,'\">\\n                <i class=\"fa fa-').concat(E(s),'\"></i>\\n                <span>').concat(c,\"</span>\\n            </div>\\n        </div>\\n    \");t.innerHTML=d}else t.innerHTML='\\n            <div class=\"trend-indicator\">\\n                <div class=\"trend-title\">Trend Analysis</div>\\n                <div class=\"trend-value trend-neutral\">\\n                    <i class=\"fa fa-info-circle\"></i>\\n                    <span>Not enough data for trends</span>\\n                </div>\\n            </div>\\n        '}function M(e,n){if(0===n)return{value:0,direction:\"trend-neutral\"};var t,a=e-n,r=Math.round(a/n*100);return t=r>0?\"trend-up\":r<0?\"trend-down\":\"trend-neutral\",{value:Math.abs(r),direction:t}}function E(e){switch(e){case\"trend-up\":return\"arrow-up\";case\"trend-down\":return\"arrow-down\";default:return\"minus\"}}function I(e){var n=document.getElementById(\"recent-articles-list\");if(n)if(n.innerHTML=\"\",0!==e.length){var t=o(e).sort(function(e,n){return e.parsedDate&&n.parsedDate?n.parsedDate-e.parsedDate:0}).slice(0,5).map(function(e){var n=e.Title||\"Untitled\",t=e.country||\"Unknown\",a=\"Unknown date\";if(e.parsedDate){a=e.parsedDate.toLocaleDateString(void 0,{year:\"numeric\",month:\"short\",day:\"numeric\"})}else e.Date&&(a=e.Date);return'\\n            <div class=\"article-item\" data-url=\"'.concat(e.url||\"#\",'\" onclick=\"window.open(\\'').concat(e.url||\"#\",\"', '_blank')\\\">\\n                <div class=\\\"article-title\\\">\").concat(n,'</div>\\n                <div class=\"article-meta\">\\n                    <span><i class=\"fa fa-map-marker\"></i> ').concat(t,'</span>\\n                    <span><i class=\"fa fa-calendar\"></i> ').concat(a,\"</span>\\n                </div>\\n            </div>\\n        \")}).join(\"\");n.innerHTML=t}else n.innerHTML='<p class=\"no-data-message\">No articles available</p>'}function j(){h.length>0&&(n.updateTimeSeriesChart(p,h,m,b.timeSeries),n.updateCategoryChart(f,h,b.category),n.updateTopCountriesChart(v,h,b.country),a.updateInterconnectionChart(y,h,b.interconnection))}var O=exports.default={initializeDashboard:C,updateDashboard:D,handleDashboardResize:j};"},"sourceMaps":null,"error":null,"hash":"e8d7f1fc17c188b5851671c3c52fb99b","cacheData":{"env":{}}}